angular.module("angular-simple-table",[]).directive("simpleTable",["$filter","$compile",function(a,b){window.TableSettings=function(b){this.data=b||null,this.reverseSort=!1,this.orderField=null;var c={};this.itemsPerPage=25;var d=1,e=null;this.getCurrentPage=function(){return d},this.setCurrentPage=function(a){d=a},this.getTotalPagesArray=function(){return e?new Array(Math.ceil(e.length/this.itemsPerPage)):void 0},this.getTotalPages=function(){return e?Math.ceil(e.length/this.itemsPerPage):void 0},this.getFilteredData=function(){if(e&&this.data){var a=(d-1)*this.itemsPerPage;return e.slice(a,a+this.itemsPerPage)}e=this.data},this.searchBy=function(b,f){d=1,this.orderField=!1;var g=f||"$";c[g]=b,e=a("filter")(this.data,c,!1)},this.orderBy=function(b,c){this.orderField=b;var d=c||!1;d||(this.reverseSort=!this.reverseSort),e=a("orderBy")(e,b.toLowerCase(),this.reverseSort)}};var c=function(a,c,d,e,f){b(c);var g=document.querySelectorAll("[simple-table]"),h=d.simpleTable;for(var i in g)if(g.hasOwnProperty(i)){var j=g[i];d.simpleTable===j.getAttribute("simple-table")&&"TABLE"===j.tagName&&(a.table=g[i])}c.prepend(document.createElement("tHead")),a.$watch(function(){var b=a.table.children[1].children[0];return b},function(c,d){if("undefined"!=typeof c){var e=c,f=a.table.children[0];f.innerHTML="";var g=e.children,i=document.createElement("tr");for(var j in g)if(g.hasOwnProperty(j)){var k=document.createElement("th"),l=g[j].getAttribute("data-sort-by");if(l){var m=g[j].getAttribute("data-sort-by");k.innerHTML='<a href="javascript:void(0)" ng-click="'+h+".orderBy('"+m+"')\" >"+m+'&nbsp;&nbsp;<span ng-show="'+h+".orderField == '"+m+'\'"><span ng-show="!'+h+'.reverseSort">&#9650;</span><span ng-show="'+h+'.reverseSort">&#9660;</span></span></a>'}else k.innerHTML=g[j].getAttribute("title");i.appendChild(k)}var n=b(i)(a.$parent);f.appendChild(n[0])}})};return{scope:{simpleTable:"&"},restrict:"EA",template:"",link:c}}]);